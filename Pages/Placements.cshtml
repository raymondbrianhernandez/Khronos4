@page
@model Khronos4.Pages.PlacementsModel
@{
    ViewData["Title"] = "Placements - Khronos Pro 4";
    @using System.Globalization
;
}

<h2>Placements for @Model.CurrentMonth @Model.CurrentYear</h2>

<form method="post">
    <table class="placements-table">
        <thead>
            <tr>
                <th>Date</th>
                <th>Hours</th>
                <th>Placements</th>
                <th>Return Visits</th>
                <th>Bible Studies</th>
                <th>Update</th>
            </tr>
        </thead>
        <tbody>
            @for (int day = 1; day <= DateTime.DaysInMonth(Model.CurrentYear, DateTime.ParseExact(Model.CurrentMonth, "MMMM", CultureInfo.InvariantCulture).Month); day++)
            {
                <tr>
                    <td>@day</td>

                    <td>
                        <select name="Hours" class="styled-select">
                            @for (int i = 0; i <= 15; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>
                    </td>

                    <td>
                        <select name="Placements" class="styled-select">
                            @for (int i = 0; i <= 20; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>
                    </td>

                    <td>
                        <select name="RVs" class="styled-select">
                            @for (int i = 0; i <= 15; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>
                    </td>

                    <td>
                        <select name="BS" class="styled-select">
                            @for (int i = 0; i <= 10; i++)
                            {
                                <option value="@i">@i</option>
                            }
                        </select>
                    </td>

                    <td>
                        <button type="submit" asp-page-handler="UpdatePlacement"
                                asp-route-date="@(new DateTime(Model.CurrentYear, DateTime.ParseExact(Model.CurrentMonth, "MMMM", CultureInfo.InvariantCulture).Month, day))"
                                class="update-btn">
                            Update
                        </button>
                    </td>
                </tr>
            }
        </tbody>
    </table>
</form>
