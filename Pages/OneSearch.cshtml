@page
@model Khronos4.Pages.ToolsModel
@{
    ViewData["Title"] = "One Search Tool - Khronos Pro 4";
}

<div class="page_heading">
    <h4>One Search Tool</h4>
    <p>
        Search householder information from top people search sites.<br />
        Search also JW images here for illustrations, Bible studies, talks, etc.
    </p>
    <img class="tile-icon-large" src="./images/assessment.png" />
</div>

<div style="text-align:center; max-width: 500px; margin: 0 auto;">
    <h4>Search Householder Information</h4>
    <form method="post">
        <input type="text" name="Street" placeholder="Street Address" style="margin-bottom: 20px;" required>
        <input type="text" name="City" placeholder="City" style="margin-bottom: 20px;" required>
        <select name="State">
            <option value="CA">California</option>
            <option value="AL">Alabama</option>
            <option value="AK">Alaska</option>
            <option value="AZ">Arizona</option>
            <option value="AR">Arkansas</option>
            <option value="CO">Colorado</option>
            <option value="CT">Connecticut</option>
            <option value="DE">Delaware</option>
            <option value="DC">District Of Columbia</option>
            <option value="FL">Florida</option>
            <option value="GA">Georgia</option>
            <option value="HI">Hawaii</option>
            <option value="ID">Idaho</option>
            <option value="IL">Illinois</option>
            <option value="IN">Indiana</option>
            <option value="IA">Iowa</option>
            <option value="KS">Kansas</option>
            <option value="KY">Kentucky</option>
            <option value="LA">Louisiana</option>
            <option value="ME">Maine</option>
            <option value="MD">Maryland</option>
            <option value="MA">Massachusetts</option>
            <option value="MI">Michigan</option>
            <option value="MN">Minnesota</option>
            <option value="MS">Mississippi</option>
            <option value="MO">Missouri</option>
            <option value="MT">Montana</option>
            <option value="NE">Nebraska</option>
            <option value="NV">Nevada</option>
            <option value="NH">New Hampshire</option>
            <option value="NJ">New Jersey</option>
            <option value="NM">New Mexico</option>
            <option value="NY">New York</option>
            <option value="NC">North Carolina</option>
            <option value="ND">North Dakota</option>
            <option value="OH">Ohio</option>
            <option value="OK">Oklahoma</option>
            <option value="OR">Oregon</option>
            <option value="PA">Pennsylvania</option>
            <option value="RI">Rhode Island</option>
            <option value="SC">South Carolina</option>
            <option value="SD">South Dakota</option>
            <option value="TN">Tennessee</option>
            <option value="TX">Texas</option>
            <option value="UT">Utah</option>
            <option value="VT">Vermont</option>
            <option value="VA">Virginia</option>
            <option value="WA">Washington</option>
            <option value="WV">West Virginia</option>
            <option value="WI">Wisconsin</option>
            <option value="WY">Wyoming</option>
        </select>
        <br><br>

        <b><u>Choose a search site:</u></b><br>
        <input type="checkbox" class="search-site" name="SelectedSites" value="fps" checked> FastPeopleSearch.com <br>
        <input type="checkbox" class="search-site" name="SelectedSites" value="spf" checked> SearchPeopleFree.com <br>
        <input type="checkbox" class="search-site" name="SelectedSites" value="wps" checked> 411/WhitePages.com <br>
        <input type="checkbox" class="search-site" name="SelectedSites" value="tht" checked> ThatsThem.com <br>
        <input type="checkbox" class="search-site" name="SelectedSites" value="tps" checked> TruePeopleSearch.com <br>
        <input type="checkbox" class="search-site" name="SelectedSites" value="sbc" checked> SmartBackgroundCheck.com <br>
        
        <button type="button" id="checkAll" style="margin-right: 10px;">Check All</button>
        <button type="button" id="uncheckAll">Uncheck All</button>

        <input type="submit" id="search_all" value="Search from Selected Sites">
    </form>
</div>

<div class="jw_img_search">
    <h4>Search JW.org Images</h4>

    <form id="googleSearchForm">
        <input type="text" id="searchQuery" name="q" placeholder="Enter keyword(s) to search for images..." required style="width: 50%;">
        <br><br>
        <button id="search-img" type="submit" style="padding: 5px 20px; font-size: 16px;">🔍 Search</button>
    </form>

    <p>Powered by <img class="tile-icon-large" src="./images/google.png" /></p>
</div>

<script>
    // Check All & Uncheck All Buttons
    document.getElementById("checkAll").addEventListener("click", function () {
        document.querySelectorAll('.search-site').forEach(checkbox => checkbox.checked = true);
    });

    document.getElementById("uncheckAll").addEventListener("click", function () {
        document.querySelectorAll('.search-site').forEach(checkbox => checkbox.checked = false);
    });

    // JW.org Image Search Functionality
    document.getElementById("googleSearchForm").addEventListener("submit", function (event) {
        event.preventDefault();

        let query = document.getElementById("searchQuery").value.trim();
        if (query === "") {
            alert("Please enter a search term.");
            return;
        }

        let formattedQuery = encodeURIComponent(query.replace(/\s+/g, "+"));
        let searchUrl = `https://www.google.com/search?sca_esv=e28d900fdc0c3e2f&sxsrf=AHTn8zqyyh7GMym2-x-KIH84LAP9DezI3w&q=${formattedQuery}+site:jw.org&udm=2&sa=X`;

        window.open(searchUrl, "_blank");
    });
</script>
